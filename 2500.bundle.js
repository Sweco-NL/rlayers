"use strict";(self.webpackChunkrlayers=self.webpackChunkrlayers||[]).push([[2500],{1850:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"32ba7744565a0c818ef0e2e35126abbb.geojson"},2500:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(7294),r=a(6414),o=a(9466),s=a(8641),i=(a(2031),a(4467)),l=a(7719),m=a(7863),c=a(1850);const u=new o.Z({featureProjection:"EPSG:3857"}),p=e=>"rgba("+[255,153,0,Math.min(.8,.4+Math.log(e/10)/20)].join()+")",g=e=>Math.round(5*(parseFloat(e.get("mag"))-2.5)),d=(e,t)=>{const a=(0,s.lJ)();for(const t of e)(0,s.l7)(a,t.getGeometry().getExtent());return Math.round(.25*((0,s.dz)(a)+(0,s.Cr)(a)))/t};function h(){const[e,t]=n.useState(20),[a,o]=n.useState("Click a cluster for details"),s=n.useRef();return n.createElement(n.Fragment,null,n.createElement(i.rO,{className:"example-map",initial:{center:(0,r.mi)([0,0]),zoom:1}},n.createElement(m.Z,{layer:"stamen_toner"}),n.createElement(i.Eu,{ref:s,distance:e,format:u,url:c.Z,onClick:n.useCallback((e=>{var t;const a=null!==(t=e.target.get("features"))&&void 0!==t?t:[];o(`${a.length} earthquakes in this location, magnitudes are ${a.map((e=>e.get("mag"))).join(", ")}`)}),[])},n.createElement(l.RStyle,{cacheSize:1024,cacheId:(0,n.useCallback)(((e,t)=>e.get("features").length>1?"#"+d(e.get("features"),t):"$"+g(e.get("features")[0])),[]),render:(0,n.useCallback)(((e,t)=>{const a=e.get("features").length;if(a>1){const r=d(e.get("features"),t);return n.createElement(n.Fragment,null,n.createElement(l.RCircle,{radius:r},n.createElement(l.RFill,{color:p(a)})),n.createElement(l.RText,{text:a.toString()},n.createElement(l.RFill,{color:"#fff"}),n.createElement(l.RStroke,{color:"rgba(0, 0, 0, 0.6)",width:3})))}const r=e.get("features")[0];return n.createElement(l.RRegularShape,{radius1:g(r),radius2:3,points:5,angle:Math.PI},n.createElement(l.RFill,{color:"rgba(255, 153, 0, 0.8)"}),n.createElement(l.RStroke,{color:"rgba(255, 204, 0, 0.2)",width:1}))}),[])}))),n.createElement("div",{className:"my-3 w-100"},n.createElement("label",{htmlFor:"distance"},"Clustering distance"),n.createElement("div",{className:"w-100"},n.createElement("input",{type:"range",className:"range-slider range-slider--primary w-100",min:"5",max:"50",id:"distance",value:e,onChange:(0,n.useCallback)((e=>t(parseInt(e.currentTarget.value))),[])}))),n.createElement("div",null,a))}},7863:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(1666),r=a(9273),o=a(8387);class s extends o.Z{constructor(e,t){var a;super(e,t),this.source=new r.Z({layer:this.props.layer,apiKey:this.props.apiKey,retina:null!==(a=this.props.retina)&&void 0!==a&&a}),this.ol=new n.Z({source:this.source}),this.eventSources=[this.ol,this.source]}}},9273:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(4680),r=a(8266);const o={stamen_terrain:{extension:"png",opaque:!0},stamen_terrain_background:{extension:"png",opaque:!0},stamen_terrain_labels:{extension:"png",opaque:!1},stamen_terrain_lines:{extension:"png",opaque:!1},stamen_toner_background:{extension:"png",opaque:!0},stamen_toner:{extension:"png",opaque:!0},stamen_toner_labels:{extension:"png",opaque:!1},stamen_toner_lines:{extension:"png",opaque:!1},stamen_toner_lite:{extension:"png",opaque:!0},stamen_watercolor:{extension:"jpg",opaque:!0},alidade_smooth:{extension:"png",opaque:!0},alidade_smooth_dark:{extension:"png",opaque:!0},outdoors:{extension:"png",opaque:!0},osm_bright:{extension:"png",opaque:!0}},s={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}};class i extends n.Z{constructor(e){const t=e.layer.indexOf("-"),a=-1==t?e.layer:e.layer.slice(0,t),n=s[a]||{minZoom:0,maxZoom:20,retina:!0},i=o[e.layer],l=e.apiKey?"?api_key="+e.apiKey:"",m=n.retina&&e.retina?"@2x":"",c=void 0!==e.url?e.url:"https://tiles.stadiamaps.com/tiles/"+e.layer+"/{z}/{x}/{y}"+m+"."+i.extension+l,u=['&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>','&copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a>',r.h];e.layer.startsWith("stamen_")&&u.splice(1,0,'&copy; <a href="https://stamen.com/" target="_blank">Stamen Design</a>'),super({attributions:u,cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:n.maxZoom,minZoom:void 0!==e.minZoom?e.minZoom:n.minZoom,opaque:i.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:c,tilePixelRatio:m?2:1,wrapX:e.wrapX,zDirection:e.zDirection})}}const l=i}}]);