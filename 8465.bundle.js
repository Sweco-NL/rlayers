"use strict";(self.webpackChunkrlayers=self.webpackChunkrlayers||[]).push([[8465],{9646:(t,e,r)=>{r.d(e,{ZP:()=>s,fI:()=>u});var o=r(8375),n=r(4187),i=r(9374),a=r(6414);const s=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return t.prototype.getReadOptions=function(t,e){var r;if(e){var n=e.dataProjection?(0,a.U2)(e.dataProjection):this.readProjection(t);e.extent&&n&&n.getUnits()===o.ZP.TILE_PIXELS&&(n=(0,a.U2)(n)).setWorldExtent(e.extent),r={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(r)},t.prototype.adaptOptions=function(t){return(0,i.f0)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return(0,n.O3)()},t.prototype.readFeature=function(t,e){return(0,n.O3)()},t.prototype.readFeatures=function(t,e){return(0,n.O3)()},t.prototype.readGeometry=function(t,e){return(0,n.O3)()},t.prototype.readProjection=function(t){return(0,n.O3)()},t.prototype.writeFeature=function(t,e){return(0,n.O3)()},t.prototype.writeFeatures=function(t,e){return(0,n.O3)()},t.prototype.writeGeometry=function(t,e){return(0,n.O3)()},t}();function u(t,e,r){var o,n=r?(0,a.U2)(r.featureProjection):null,i=r?(0,a.U2)(r.dataProjection):null;if(o=n&&i&&!(0,a.OP)(n,i)?(e?t.clone():t).transform(e?n:i,e?i:n):t,e&&r&&void 0!==r.decimals){var s=Math.pow(10,r.decimals);o===t&&(o=t.clone()),o.applyTransform((function(t){for(var e=0,r=t.length;e<r;++e)t[e]=Math.round(t[e]*s)/s;return t}))}return o}},8465:(t,e,r)=>{r.d(e,{Z:()=>S});var o,n=r(1090),i=r(5487),a=r(1694),s=r(8641),u=r(5818),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function p(t){for(var e=[],r=0,o=t.length;r<o;++r)e.push(t[r].clone());return e}const f=function(t){function e(e){var r=t.call(this)||this;return r.geometries_=e||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return c(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(u.bN),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push((0,u.oL)(this.geometries_[t],i.Z.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,o){if(o<(0,s.qf)(this.getExtent(),t,e))return o;for(var n=this.geometries_,i=0,a=n.length;i<a;++i)o=n[i].closestPointXY(t,e,r,o);return o},e.prototype.containsXY=function(t,e){for(var r=this.geometries_,o=0,n=r.length;o<n;++o)if(r[o].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,s.YN)(t);for(var e=this.geometries_,r=0,o=e.length;r<o;++r)(0,s.l7)(t,e[r].getExtent());return t},e.prototype.getGeometries=function(){return p(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,r=0,o=e.length;r<o;++r)e[r].getType()===this.getType()?t=t.concat(e[r].getGeometriesArrayRecursive()):t.push(e[r]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],o=this.geometries_,n=!1,i=0,a=o.length;i<a;++i){var s=o[i],u=s.getSimplifiedGeometry(t);r.push(u),u!==s&&(n=!0)}if(n){var c=new e(null);return c.setGeometriesArray(r),c}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,r=0,o=e.length;r<o;++r)if(e[r].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var r=this.geometries_,o=0,n=r.length;o<n;++o)r[o].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,r){var o=r;o||(o=(0,s.qg)(this.getExtent()));for(var n=this.geometries_,i=0,a=n.length;i<a;++i)n[i].scale(t,e,o);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(p(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,r=0,o=e.length;r<o;++r)e[r].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var r=this.geometries_,o=0,n=r.length;o<n;++o)r[o].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(a.Z);var y=r(9646),l=r(4187),h=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();function m(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}const g=function(t){function e(){return t.call(this)||this}return h(e,t),e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(m(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(m(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return(0,l.O3)()},e.prototype.readFeaturesFromObject=function(t,e){return(0,l.O3)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(m(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return(0,l.O3)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(m(t))},e.prototype.readProjectionFromObject=function(t){return(0,l.O3)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return(0,l.O3)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return(0,l.O3)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return(0,l.O3)()},e}(y.ZP);var d=r(2083),O=r(7403),v=r(6259),j=r(5063),_=r(188),P=r(3083),b=r(9515),G=r(9374),w=r(6414),F=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();function C(t,e){if(!t)return null;var r;switch(t.type){case"Point":r=function(t){return new _.Z(t.coordinates)}(t);break;case"LineString":r=function(t){return new d.Z(t.coordinates)}(t);break;case"Polygon":r=function(t){return new P.ZP(t.coordinates)}(t);break;case"MultiPoint":r=function(t){return new v.Z(t.coordinates)}(t);break;case"MultiLineString":r=function(t){return new O.Z(t.coordinates)}(t);break;case"MultiPolygon":r=function(t){return new j.Z(t.coordinates)}(t);break;case"GeometryCollection":r=function(t,e){var r=t.geometries.map((function(t){return C(t,undefined)}));return new f(r)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return(0,y.fI)(r,!1,e)}function E(t,e){var r,o=(t=(0,y.fI)(t,!0,e)).getType();switch(o){case"Point":r=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":r=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":r=function(t,e){var r;return e&&(r=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(r)}}(t,e);break;case"MultiPoint":r=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":r=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":r=function(t,e){var r;return e&&(r=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}(t,e);break;case"GeometryCollection":r=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map((function(t){var r=(0,G.f0)({},e);return delete r.featureProjection,E(t,r)}))}}(t,e);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+o)}return r}const S=function(t){function e(e){var r=this,o=e||{};return(r=t.call(this)||this).dataProjection=(0,w.U2)(o.dataProjection?o.dataProjection:"EPSG:4326"),o.featureProjection&&(r.defaultFeatureProjection=(0,w.U2)(o.featureProjection)),r.geometryName_=o.geometryName,r.extractGeometryName_=o.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return F(e,t),e.prototype.readFeatureFromObject=function(t,e){var r,o=C((r="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),i=new n.Z;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&i.setGeometryName(r.geometry_name),i.setGeometry(o),"id"in r&&i.setId(r.id),r.properties&&i.setProperties(r.properties,!0),i},e.prototype.readFeaturesFromObject=function(t,e){var r=null;if("FeatureCollection"===t.type){r=[];for(var o=t.features,n=0,i=o.length;n<i;++n)r.push(this.readFeatureFromObject(o[n],e))}else r=[this.readFeatureFromObject(t,e)];return r},e.prototype.readGeometryFromObject=function(t,e){return C(t,e)},e.prototype.readProjectionFromObject=function(t){var e,r=t.crs;return r?"name"==r.type?e=(0,w.U2)(r.properties.name):"EPSG"===r.type?e=(0,w.U2)("EPSG:"+r.properties.code):(0,b.h)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={type:"Feature",geometry:null,properties:null},o=t.getId();if(void 0!==o&&(r.id=o),!t.hasProperties())return r;var n=t.getProperties(),i=t.getGeometry();return i&&(r.geometry=E(i,e),delete n[t.getGeometryName()]),(0,G.xb)(n)||(r.properties=n),r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],o=0,n=t.length;o<n;++o)r.push(this.writeFeatureObject(t[o],e));return{type:"FeatureCollection",features:r}},e.prototype.writeGeometryObject=function(t,e){return E(t,this.adaptOptions(e))},e}(g)}}]);